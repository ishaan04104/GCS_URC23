{% extends "layout.html" %}
{% block content %}
<!-- <script src="/static/chart_modules/chart.js/dist/chart.umd.js"></script> -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script> -->
<script src="/static/node_modules/jquery/dist/jquery.min.js"></script>

<script type=text/javascript>
$(function() {
$('a#forward').on('click', function(e) {
e.preventDefault()
$.getJSON('/forward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#backward').on('click', function(e) {
e.preventDefault()
$.getJSON('/backward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#left').on('click', function(e) {
e.preventDefault()
$.getJSON('/left',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#right').on('click', function(e) {
e.preventDefault()
$.getJSON('/right',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#l-stop').on('click', function(e) {
e.preventDefault()
$.getJSON('/stop',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#partialL').on('click', function(e) {
e.preventDefault()
$.getJSON('/partialL',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#partialR').on('click', function(e) {
e.preventDefault()
$.getJSON('/partialR',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m1f').on('click', function(e) {
e.preventDefault()
$.getJSON('/m1-forward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m1b').on('click', function(e) {
e.preventDefault()
$.getJSON('/m1-backward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m2f').on('click', function(e) {
e.preventDefault()
$.getJSON('/m2-forward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m2b').on('click', function(e) {
e.preventDefault()
$.getJSON('/m2-backward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m3f').on('click', function(e) {
e.preventDefault()
$.getJSON('/m3-forward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m3b').on('click', function(e) {
e.preventDefault()
$.getJSON('/m3-backward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m4f').on('click', function(e) {
e.preventDefault()
$.getJSON('/m4-forward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m4b').on('click', function(e) {
e.preventDefault()
$.getJSON('/m4-backward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m5f').on('click', function(e) {
e.preventDefault()
$.getJSON('/m5-forward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m5b').on('click', function(e) {
e.preventDefault()
$.getJSON('/m5-backward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m6f').on('click', function(e) {
e.preventDefault()
$.getJSON('/m6-forward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m6b').on('click', function(e) {
e.preventDefault()
$.getJSON('/m6-backward',function(data) {
//do nothing
});
return false;
});
});

$(function() {
$('a#m-stop').on('click', function(e) {
e.preventDefault()
$.getJSON('/m-stop',function(data) {
//do nothing
});
return false;
});
});

// $(function() {
// $('a#m-controller').on('click', function(e) {
// e.preventDefault()
// $.getJSON('/controller',function(data) {
// //do nothing
// });
// return false;
// });
// });

document.addEventListener("keydown", function(event) {
switch (event.key) {
case "w":
document.querySelector("#forward").click();
break;
case "s":
document.querySelector("#backward").click();
break;
case " ":
document.querySelector("#l-stop").click();
break;
case "d":
document.querySelector("#right").click();
break;
case "a":
document.querySelector("#left").click();
break;
case "e":
document.querySelector("#partialR").click();
break;
case "q":
document.querySelector("#partialL").click();
break;
case "`":
document.querySelector("#m1f").click();
break;
case "1":
document.querySelector("#m1b").click();
break;
case "2":
document.querySelector("#m2f").click();
break;
case "3":
document.querySelector("#m2b").click();
break;
case "4":
document.querySelector("#m3f").click();
break;
case "5":
document.querySelector("#m3b").click();
break;
case "6":
document.querySelector("#m4f").click();
break;
case "7":
document.querySelector("#m4b").click();
break;
case "8":
document.querySelector("#m5f").click();
break;
case "9":
document.querySelector("#m5b").click();
break;
case "0":
document.querySelector("#m6f").click();
break;
case "-":
document.querySelector("#m6b").click();
break;
case "z":
document.querySelector("#m-stop").click();
break;
}
});
</script>

<div class="d-flex">
  <div class="cbox-1 shadow-lg mx-3 my-4">
    <h3 class="font-weight-bold">TRAVERSAL CONTROLS</h3>
    <form class="mt-1">

      <a href="#" id="forward">
        <button class="btn btn-dark border border-dark my-2">
          &#x21e7;
        </button>
      </a>
      <br>
      <a href="#" id="left">
        <button class="btn btn-dark border border-dark mx-2">
          &#x21e6;
        </button>
      </a>
      <a href="#" id="l-stop">
        <button class="btn btn-dark border border-dark">HALT</button>
      </a>
      <a href="#" id="right">
        <button class="btn btn-dark border border-dark mx-2">
          &#x21e8;
        </button>
      </a>
      <br>
      <a href="#" id="backward">
        <button class="btn btn-dark border border-dark my-2">
          &#x21e9;
        </button>
      </a>
      <br>
      <div class="d-flex justify-content-center">
        <a href="#" id="partialL">
          <button class="btn btn-light border border-dark m-2">
            <img src="./static/arrow.png" id="pl">
          </button>
        </a>
        <a href="#" id="partialR">
          <button class="btn btn-light border border-dark m-2">
            <img src="./static/top-right.png" id="pr"> </button>
        </a>
      </div>
      <!-- <a href="#" id="m1f"><button style="background:gray"></button></a>
      <a href="#" id="m1b"><button style="background:gray"></button></a>
      <a href="#" id="m2f"><button style="background:gray"></button></a>
      <a href="#" id="m2b"><button style="background:gray"></button></a>
      <a href="#" id="m3f"><button style="background:gray"></button></a>
      <a href="#" id="m3b"><button style="background:gray"></button></a>
      <a href="#" id="m4f"><button style="background:gray"></button></a>
      <a href="#" id="m4b"><button style="background:gray"></button></a>
      <a href="#" id="m5f"><button style="background:gray"></button></a>
      <a href="#" id="m5b"><button style="background:gray"></button></a>
      <a href="#" id="m6f"><button style="background:gray"></button></a>
      <a href="#" id="m6b"><button style="background:gray"></button></a>
      <a href="#" id="m-stop"><button style="background:gray"></button></a> -->

    </form>
    <div class="d-flex">
      <div class="straight bg-dark text-white border border-dark mx-3 p-2">
        <h6>MAX</h6>
        <h6>STRAIGHT</h6>
        <h6>PWM</h6>
        <input type="text" class="custom-step-input" id="custom-z" autocomplete="off" size="2" style="height: 30px;">
      </div>
      <div class="turn border bg-dark text-white border-dark mx-3 p-2">
        <h6>MAX</h6>
        <h6>TURN</h6>
        <h6>PWM</h6>
        <input type="text" class="custom-step-input" id="custom-z" autocomplete="off" size="2" style="height: 30px;">
      </div>
    </div>
  </div>
  <div class="cbox-2 shadow-lg mx-3 my-4">
    <h3 class="font-weight-bold">LOCALIZATION</h3>
    <div class="d-flex justify-content-center">
      <div class="lbox-1 mx-5">
        <!-- <canvas id="myChart" style="width:100%;max-width:600px" class="mt-5 border border-dark bg-light"></canvas> -->
        <button class="btn btn-lg btn-dark border border-dark mt-5" style="position: absolute; top: 40vh; left: 80vh;"
          onclick="getPlot()">
          Get Coordinates
        </button>
      </div>
      <div class="lbox-2 mx-5">
        <form id="end" class="mt-5">
          <div class="form-group">
            <label for="longitude">Longitude</label>
            <input type="number" class="form-control" id="longitude" name="longitude" step="0.000000000001" min="0"
              max="80">
            <label for="latitude">Latitude</label>
            <input type="number" class="form-control" id="latitude" name="latitude" step="0.000000000001" min="0"
              max="13">
            <br>
            <!-- <input type="submit" value="Set Destination" class="btn btn-lg btn-dark border border-dark"> -->
          </div>
        </form>
      </div>
    </div>
  </div>

</div>
<div class="flex" style="display: flex;">
  <div class="cbox-3 shadow-lg mx-3 p-0">
    <div class="controls-arm">
      <span id="arm-title">ARM CONTROLS</span>
      <form>
        <label class="radio">
          <input type="radio" name="ac-radio" id="auto-radio" autocomplete="off" checked>
          <span>AUTOMATIC</span>
        </label>
        <label class="radio">
          <input type="radio" name="ac-radio" id="manual-radio" autocomplete="off">
          <span>MANUAL</span>
        </label>
      </form>
    </div>
    <div id="arm-auto">
      <div class="arm-btns d-flex border border-dark my-5">
        <button type="button" class="arm-ctrl-btn btn btn-secondary btn m-2 px-4 py-2">
          <span>RESET</span>
        </button>
        <button type="button" class="arm-ctrl-btn btn btn-warning btn m-2 px-4 py-2">
          <span>HALT</span>
        </button>
        <button type="button" class="arm-ctrl-btn btn btn-danger m-2 px-4 py-2">
          <span>STOP</span>
        </button>
      </div>
      <div style="display: flex;">
        <div class="flex-column arm-auto-column">
          <div class="flex-center-all border-tb border-r"><span class="no-math">Axes</span></div>
          <div class="flex-center-all axis">x&ensp;<span class="arrow">&#8594;</span></div>
          <div class="flex-center-all axis border-tb">y&ensp;<span class="arrow">&#8594;</span></div>
          <div class="flex-center-all axis">z&ensp;<span class="arrow">&#8594;</span></div>
        </div>
        <div class="flex-column arm-auto-column">
          <div class="flex-center-all border-tb">P</div>
          <div class="flex-center-all">
            <span id="current-position-x" class="current-position">107.98</span>
          </div>
          <div class="flex-center-all border-tb">
            <span id="current-position-y" class="current-position">312.55</span>
          </div>
          <div class="flex-center-all">
            <span id="current-position-z" class="current-position">257.99</span>
          </div>
        </div>
        <div class="flex-column arm-auto-column border-lr" style="flex-grow: 10;" style="display: flex;">
          <div class="flex-center-all" style="flex-grow: 1.1;">
            &Delta;x&emsp;|&emsp;&Delta;y&emsp;|&emsp;&Delta;z</div>
          <div id="steps-x" class="flex" style="display: flex;">
            <div class="step flex-center-all negative-step">10</div>
            <div class="step flex-center-all negative-step">5</div>
            <div class="step flex-center-all negative-step">1</div>
            <div class="step flex-center-all positive-step">1</div>
            <div class="step flex-center-all positive-step">5</div>
            <div class="step flex-center-all positive-step">10</div>
          </div>
          <div id="steps-y" class="flex border-tb" style="display: flex;">
            <div class="step flex-center-all negative-step">10</div>
            <div class="step flex-center-all negative-step">5</div>
            <div class="step flex-center-all negative-step">1</div>
            <div class="step flex-center-all positive-step">1</div>
            <div class="step flex-center-all positive-step">5</div>
            <div class="step flex-center-all positive-step">10</div>
          </div>
          <div id="steps-z" class="flex" style="display: flex;">
            <div class="step flex-center-all negative-step">10</div>
            <div class="step flex-center-all negative-step">5</div>
            <div class="step flex-center-all negative-step">1</div>
            <div class="step flex-center-all positive-step">1</div>
            <div class="step flex-center-all positive-step">5</div>
            <div class="step flex-center-all positive-step">10</div>
          </div>
        </div>
        <div class="flex-column arm-auto-column" style="display: flex;">
          <div class="flex-center-all border-tb" style="flex-grow: 1.1;">
            <span class="no-math">Custom&nbsp;<i style="font-family: DejaVu Math;">&Delta;</i></span>
          </div>
          <div class="flex-column-space-evenly" style="display: flex;">
            <input type="text" class="custom-step-input" id="custom-x" autocomplete="off" size="4">
            <label for="name" class="custom-step-label" id="custom-x-label">&Delta;x</label>
          </div>
          <div class="flex-column-space-evenly border-tb" style="display: flex;">
            <input type="text" class="custom-step-input" id="custom-y" autocomplete="off" size="4">
            <label for="name" class="custom-step-label" id="custom-y-label">&Delta;y</label>
          </div>
          <div class="flex-column-space-evenly" style="display: flex;">
            <input type="text" class="custom-step-input" id="custom-z" autocomplete="off" size="4">
            <label for="name" class="custom-step-label" id="custom-z-label">&Delta;z</label>
          </div>
        </div>
        <div class="flex-column arm-auto-column border-lr">
          <div class="flex-center-all border-tb" style="flex-grow: 1.1;">P'</div>
          <div class="flex-center-all">
            <div class="new-position-border">
              <input type="text" class="new-position selectable" id="new-position-x" value="107.98" autocomplete="off"
                size="4">
            </div>
          </div>
          <div class="flex-center-all border-tb">
            <div class="new-position-border">
              <input type="text" class="new-position selectable" id="new-position-y" value="312.55" autocomplete="off"
                size="4">
            </div>
          </div>
          <div class="flex-center-all">
            <div class="new-position-border">
              <input type="text" class="new-position selectable" id="new-position-z" value="257.99" autocomplete="off"
                size="4">
            </div>
          </div>
        </div>
        <div id="submit">S<br>U<br>B<br>M<br>I<br>T</div>
      </div>
    </div>
    <div class="manual-arm">
      <div id="arm-manual" style="display: none;">
        <div class="d-flex justify-content-center mt-5">
          <div class="cm-1">
            <div class="border border-white bg-dark text-white px-4 py-2">BASE</div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m1f"><button class="btn text-white">`</button></a>
            </div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m1b"><button class="btn text-white">1</button></a>
            </div>
          </div>
          <div class="cm-2">
            <div class="border border-white bg-dark text-white px-4 py-2">SHOULDER</div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m2f"><button class="btn text-white">2</button></a>
            </div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m2b"><button class="btn text-white">3</button></a>
            </div>
          </div>
          <div class="cm-3">
            <div class="border border-white bg-dark text-white px-4 py-2">ELBOW</div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m3f"><button class="btn text-white">4</button></a>
            </div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m3b"><button class="btn text-white">5</button></a>
            </div>
          </div>
          <div class="cm-4">
            <div class="border border-white bg-dark text-white px-4 py-2">WRIST</div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m4f"><button class="btn text-white">6</button></a>
            </div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m4b"><button class="btn text-white">7</button></a>
            </div>
          </div>
          <div class="cm-5">
            <div class="border border-white bg-dark text-white px-4 py-2">WRIST ROT</div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m5f"><button class="btn text-white">8</button></a>
            </div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m5b"><button class="btn text-white">9</button></a>
            </div>
          </div>
          <div class="cm-6">
            <div class="border border-white bg-dark text-white px-4 py-2">GRIPPER</div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m6f"><button class="btn text-white">0</button></a>
            </div>
            <div class="border bg-secondary text-white px-4 py-2">
              <a href="#" id="m6b"><button class="btn text-white">-</button></a>
            </div>
          </div>
        </div>
        <div class="d-flex mt-4 mx-3">
          <div id="submit">
            <a href="#" id="m-stop" class="text-white">HALT</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="cbox-4">
    <div class="d-flex ">
      <div class="rover-compass border border-light bg-dark" style="width: 400px; height: 420px;">
        <div class="bg-secondary text-white p-2 h5 border border-light">ROVER</div>
        <div class="compass p-5">
          <img id="compass0" alt="Rover Magnetometer" src="/static/compass.png" class="compass">
        </div>
        <img id="needle0" alt="Magnetometer Needle" src="/static/needle.png" class="needle">
      </div>

      <div class="arm-compass border border-light bg-dark" style="width: 430px; height: 420px;">
        <div class=" bg-secondary text-white p-2 h5 border border-light">ARM</div>
        <div class="compass p-5">
          <img id="compass1" alt="Rover Magnetometer" src="/static/compass.png" class="compass">
        </div>
        <img id="needle1" alt="Magnetometer Needle" src="/static/needle.png" class="needle">
      </div>
    </div>
  </div>
</div>
</div>


<script>

  // var endX = [];
  // var endY = [];

  // var longitude = [];
  // var latitude = [];
  // var Y = [];

  // let intervalId;
  // let isUpdating = false;

  // const long = document.querySelector('#longitude');
  // const lat = document.querySelector('#latitude');

  // document.querySelector('#end').addEventListener('submit', function (e) {
  //   endY.push(lat.value);
  //   endX.push(long.value);

  //   // console.log(endY);
  //   // console.log(endX);

  //   e.preventDefault();
  // });

  // function toggleUpdating() {
  //   if (isUpdating) {
  //     stopUpdating();
  //   } else {
  //     startUpdating();
  //   }
  // }

  // function startUpdating() {
  //   intervalId = setInterval(getMap, 2000);
  //   isUpdating = true;
  // }

  // function stopUpdating() {
  //   clearInterval(intervalId);
  //   isUpdating = false;
  // }

  // function getMap() {
  //   fetch('/get-map')
  //     .then(response => response.json())
  //     .then(dictionary => {
  //       // Build a string representation of the dictionary
  //       // let latitude = '';
  //       // let longitude = '';
  //       for (let key in dictionary) {
  //         Y.push(dictionary[key]);
  //       }
  //     });


  //   Y.map(function (elem, index) {
  //     longitude[index] = elem.longitude;
  //     latitude[index] = elem.latitude;
  //   });

  //   const chart = new Chart("myChart", {
  //     type: "line",
  //     data: {
  //       labels: [],
  //       datasets: [{
  //         fill: false,
  //         lineTension: 0,
  //         backgroundColor: "rgba(0,0,255,1.0)",
  //         borderColor: "rgba(0,0,255,0.1)",
  //         data: []
  //       }, {
  //         fill: false,
  //         pointRadius: 5,
  //         backgroundColor: "rgba(255,0,0,1.0)",
  //         borderColor: "rgba(255,0,0,1.0)",
  //         data: [{
  //           y: 20, // Replace with your x-coordinate
  //           x: 79.15722929    // Replace with your y-coordinate
  //         }]
  //       }]
  //     },
  //     options: {
  //       legend: { display: false },
  //       scales: {
  //         xAxes: [{ ticks: { min: 0, max: 100 } }],
  //         yAxes: [{ ticks: { min: 5, max: 25 } }]
  //       }
  //     }
  //   });

  //   for (let i = 0; i < longitude.length; i++) {
  //     setTimeout(() => {
  //       chart.data.labels.push(longitude[i]);
  //       chart.data.datasets[0].data.push(latitude[i]);
  //       chart.update();
  //     }, i * 2000);
  //   }


  // new Chart("myChart", {
  //   type: "line",
  //   data: {
  //     labels: longitude,
  //     datasets: [{
  //       fill: false,
  //       lineTension: 0,
  //       backgroundColor: "rgba(0,0,255,1.0)",
  //       borderColor: "rgba(0,0,255,0.1)",
  //       data: latitude
  //     }]
  //   },
  //   options: {
  //     legend: { display: false },
  //     scales: {
  //       yAxes: [{ ticks: { min: 0, max: 80 } }],
  //       xAxes: [{ ticks: { min: 10, max: 12.97 } }]
  //     }
  //   }
  // });

  // new Chart("myChart", {
  //   data: {
  //     type: "line",
  //     labels: longitude,
  //     datasets: [{
  //       fill: false,
  //       lineTension: 0,
  //       backgroundColor: "rgba(0,0,255,1.0)",
  //       borderColor: "rgba(0,0,255,0.1)",
  //       data: latitude
  //     }, {
  //       type: "scatter",
  //       data: endY,
  //       pointBackgroundColor: "rgb(255,0,255)",
  //       fill: false
  //     }]
  //   },
  //   options: {
  //     legend: { display: false },
  //     scales: {
  //       yAxes: [{ ticks: { min: 0, max: 500 } }],
  //     }
  //   }
  // });
  // }

  function getPlot() {
    fetch('/get-map')
  }


</script>
<script>
  function getIMU() {
    fetch('/get-imu')
      .then(response => response.json())
      .then(dictionary => {
        // Build a string representation of the dictionary
        let dictionaryString = '';
        for (let key in dictionary) {
          dictionaryString += `${key}: ${dictionary[key]}<br>`;
        }
        // Display the dictionary string in a p element
        document.getElementsByClassName('imu').innerHTML = dictionaryString;
      });
  }
</script>

<script>
  const arm_auto = document.getElementById("arm-auto");
  const arm_manual = document.getElementById("arm-manual");

  document.getElementById("auto-radio").addEventListener("click", function () {
    arm_auto.style.display = "";
    arm_manual.style.display = "none";
  });
  document.getElementById("manual-radio").addEventListener("click", function () {
    arm_auto.style.display = "none";
    arm_manual.style.display = "";
  });


  // get the movement step elements
  const movementStepsX = document.querySelectorAll('#steps-x .step');
  const movementStepsY = document.querySelectorAll('#steps-y .step');
  const movementStepsZ = document.querySelectorAll('#steps-z .step');

  // get the new position elements
  const newPositionX = document.querySelector('#new-position-x');
  const newPositionY = document.querySelector('#new-position-y');
  const newPositionZ = document.querySelector('#new-position-z');

  // set the initial position
  let positionX = parseFloat(newPositionX.value);
  let positionY = parseFloat(newPositionY.value);
  let positionZ = parseFloat(newPositionZ.value);

  // add event listeners to the movement step elements
  movementStepsX.forEach(step => {
    step.addEventListener('click', () => {
      // get the step value and add/subtract it from the new position
      const stepValue = parseFloat(step.textContent);
      if (step.classList.contains('positive-step')) {
        positionX += stepValue;
      } else {
        positionX -= stepValue;
      }
      // update the new position element
      newPositionX.value = isNaN(positionX) ? '' : positionX.toFixed(2);
    });
  });

  movementStepsY.forEach(step => {
    step.addEventListener('click', () => {
      // get the step value and add/subtract it from the new position
      const stepValue = parseFloat(step.textContent);
      if (step.classList.contains('positive-step')) {
        positionY += stepValue;
      } else {
        positionY -= stepValue;
      }
      // update the new position element
      newPositionY.value = isNaN(positionY) ? '' : positionY.toFixed(2);
    });
  });

  movementStepsZ.forEach(step => {
    step.addEventListener('click', () => {
      // get the step value and add/subtract it from the new position
      const stepValue = parseFloat(step.textContent);
      if (step.classList.contains('positive-step')) {
        positionZ += stepValue;
      } else {
        positionZ -= stepValue;
      }
      // update the new position element
      newPositionZ.value = isNaN(positionZ) ? '' : positionZ.toFixed(2);
    });
  });


  // Define arrays for each input field
  const xValues = [117.98, 107.5, 96.2, 80.3, 86.6, 83.15, 78.1];
  const yValues = [307.55, 305.2, 296.1, 301.4, 299.7, 291.8, 278.7];
  const zValues = [200.99, 199.1, 191.7, 200.2, 203.1, 205.81, 206.91];

  // Get the input elements
  const xInput = document.getElementById("new-position-x");
  const yInput = document.getElementById("new-position-y");
  const zInput = document.getElementById("new-position-z");

  // Get the submit button element
  const submitButton = document.getElementById("submit");

  // Define a variable to keep track of the current index in the arrays
  let currentIndex = 0;

  // Set a variable to hold the interval ID
  let intervalId;

  // Add a click event listener to the submit button
  submitButton.addEventListener("click", function () {
    // Update the value of each input field with the next value in its respective array
    xInput.value = xValues[currentIndex % xValues.length];
    yInput.value = yValues[currentIndex % yValues.length];
    zInput.value = zValues[currentIndex % zValues.length];

    // Increment the current index
    currentIndex++;

    // Set a timer to repeat the updates every 500 milliseconds
    intervalId = setInterval(function () {
      // Update the value of each input field with the next value in its respective array
      xInput.value = xValues[currentIndex % xValues.length];
      yInput.value = yValues[currentIndex % yValues.length];
      zInput.value = zValues[currentIndex % zValues.length];

      // Increment the current index
      currentIndex++;

      // Check if the last value has been reached and clear the interval if it has
      if (currentIndex === xValues.length) {
        clearInterval(intervalId);
      }
    }, 2000);
  });

</script>
{% endblock %}